@model Sample.Repository.UserInfo
@{
    ViewBag.Title = "Register";
}
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script src="../../Scripts/errors.js" type="text/javascript"></script>
<link href="../../CSS/Errors.css" rel="stylesheet" type="text/css" />
<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2>Create a new account.</h2>
</hgroup>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()

    <fieldset>
        <legend>Registration Form</legend>
        <ol>
            <li>
                @Html.LabelFor(m => m.Name)
               <input id="txtname" placeholder="Enter Name" value=""/>
               
            </li>
            <li>
                @Html.LabelFor(m => m.EmailId)
                <input id="txtEmailId" placeholder="Enter EmailId" value="" />
            </li>
             <li>
                @Html.LabelFor(m => m.PhoneNo)
               <input id="txtPhoneNo" placeholder="Enter Phone" value="" />
            </li>
            <li>
                @Html.LabelFor(m => m.UserName)
                <input id="txtUserName" placeholder="Enter User Name" value="" />
            </li>
             <li>
                @Html.LabelFor(m => m.Password)
                <input id="txtPassword" placeholder="Enter Password" value="" />
            </li>
        </ol>
        <input id="btnSave" type="submit" value="Register" /><h3>@ViewBag.Msg.</h3>
    </fieldset>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}


<script type="text/javascript">
    $(document).ready(function () {

        $('[id$=btnSave]').click(function () {

            $(":input").not("[type=submit]").removeClass('error').each(function () {
                if ($.trim($(this).val()).length == 0) {
                    $(this).addClass('error');
                }
            });
//            var mob = /^[1-9]{1}[0-9]{9}$/;
//           
//            if (email.test($("#txtEmailId").val()) == false) {
//                $(this).addClass('error');
//            }
//            if (mob.test($('#txtPhoneNo').val()) == false) {
//                $(this).addClass('error');
//            }
            if ($(".error").length > 0) return false;
            var res = {
                UserId: 1,
                Name: $('#txtname').val(),
                EmailId: $('#txtEmailId').val(),
                PhoneNo: $('#txtPhoneNo').val(),
                UserName: $('#txtUserName').val(),
                Password: $('#txtPassword').val(),
                Status: 0
            };
            $.ajax({
                cache: false,
                type: 'POST',
                url: '/UserInfo/Registeration',
                datatype: 'json',
                data: res,
                success: function (data) {
                    alert("Saved Successfully");
                }
            });
            return false;
        });

    });
</script>

 @*data: JSON.stringify(@Html.Raw(Json.Encode(Model))),*@